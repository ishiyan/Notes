"use strict";(self.webpackChunkmbs_api_host_ng=self.webpackChunkmbs_api_host_ng||[]).push([[894],{3758:($,W,s)=>{s.d(W,{i:()=>p});var t=s(5e3),D=s(3663);let x=(()=>{class o{constructor(C,O){this.element=C,this.katexService=O,this.hasError=new t.vpe}ngOnChanges(){try{this.katexService.render(this.mbKatex,this.element,this.options)}catch(C){this.hasError.emit(C)}}}return o.\u0275fac=function(C){return new(C||o)(t.Y36(t.SBq),t.Y36(D.$))},o.\u0275dir=t.lG2({type:o,selectors:[["","mbKatex",""]],inputs:{mbKatex:"mbKatex",options:"options"},outputs:{hasError:"hasError"},features:[t.TTD]}),o})(),p=(()=>{class o{constructor(){this.options={},this.hasError=new t.vpe}outputError(C){this.hasError.emit(C)}}return o.\u0275fac=function(C){return new(C||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["mb-katex"]],inputs:{expression:"expression",options:"options"},outputs:{hasError:"hasError"},decls:1,vars:2,consts:[[3,"mbKatex","options","hasError"]],template:function(C,O){1&C&&(t.TgZ(0,"span",0),t.NdJ("hasError",function(d){return O.outputError(d)}),t.qZA()),2&C&&t.Q6J("mbKatex",O.expression)("options",O.options)},directives:[x],styles:[""]}),o})()},2729:($,W,s)=>{s.d(W,{G:()=>D});var t=s(842);function D(x){switch(x.toLowerCase()){case"step":return t.curveStep;case"stepbefore":return t.curveStepBefore;case"stepafter":return t.curveStepAfter;case"natural":return t.curveNatural;case"basis":return t.curveBasis;case"catmullrom":return t.curveCatmullRom;case"cardinal":return t.curveCardinal;case"monotonex":return t.curveMonotoneX;case"monotoney":return t.curveMonotoneY;default:return t.curveLinear}}},2963:($,W,s)=>{function t(D){if(D.length>0){if(void 0!==D[0].close)return p=>p.close;if(void 0!==D[0].price)return p=>p.price;if(void 0!==D[0].bidPrice)return p=>p.bidPrice}return p=>p.value}s.d(W,{j:()=>t})},3977:($,W,s)=>{s.d(W,{I:()=>K});var t=s(842),D=s(8316),x=s(2729),p=s(2963),o=s(5e3);const y=["*"],C={fillColor:void 0,strokeColor:"steelblue",strokeWidth:1,interpolation:"natural"},k=new Date(-864e13),d=new Date(864e13);let K=(()=>{class T{constructor(e){this.elementRef=e,this.currentConfiguration=[],this.currentData=[],this.currentDataEmpty=!0,this.width=300,this.height=100,this.timeAxis=[],this.valueAxis=[]}set configuration(e){if(e&&null!=e&&e.length>0){const a=e.length,g=this.currentConfiguration.length;if(g>0){const i=Math.min(a,g);Math.max(a,g);for(let n=0;n<i;++n)this.currentConfiguration[n]=Object.assign(Object.assign({},this.currentConfiguration[n]),e[n]);if(a>i)for(let n=i;n<a;++n)this.currentConfiguration[n]=Object.assign({},e[n])}else this.currentConfiguration=[...e]}}get configuration(){return this.currentConfiguration}set min(e){this.forcedValueMin=e}set max(e){this.forcedValueMax=e}set from(e){this.forcedTimeMin=e}set till(e){this.forcedTimeMax=e}set data(e){let a=d,g=k,i=1/0,f=-1/0,n=!0;for(const M of e){const w=M.length;if(w<1)continue;n=!1,a>M[0].time&&(a=M[0].time),g<M[w-1].time&&(g=M[w-1].time);const v=(0,p.j)(M);for(const S of M){const B=v(S);isNaN(B)||(i>B&&(i=B),f<B&&(f=B))}}this.currentDataEmpty=n,this.dataTimeMin=a,this.dataTimeMax=g,this.dataValueMin=i,this.dataValueMax=f,this.currentData=e}get data(){return this.currentData}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(e){this.render()}render(){const e=t.select(this.elementRef.nativeElement);e.select("svg").remove();const a=this.currentData;if(this.currentDataEmpty||!a||a.length<1)return;const g=this.currentConfiguration,i=this.timeAxis.includes("top"),f=this.timeAxis.includes("bottom"),n=this.valueAxis.includes("left"),M=this.valueAxis.includes("right"),w=this.valueAxis.includes("grid"),v=n||w?50:i||f?50/3:0,S=M?50:i||f?50/3:0,B=i?18:n||M||w?6:0,z=f?18:n||M||w?6:0,F=(0,D.C)(this.elementRef,this.width,this.height,300,100),A=F[0],R=F[1],U=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",A).attr("height",R).attr("viewBox",`0 0 ${A} ${R}`),G=void 0===this.forcedTimeMin?this.dataTimeMin:this.forcedTimeMin,X=void 0===this.forcedTimeMax?this.dataTimeMax:this.forcedTimeMax,b=t.scaleUtc().range([v,A-S]).domain([G,X]);if(i){b.nice();const h=_=>_.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${B})`).call(t.axisTop(b).ticks(A/60).tickSizeOuter(0));U.append("g").call(h)}if(f){b.nice();const h=_=>_.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${R-z})`).call(t.axisBottom(b).ticks(A/60).tickSizeOuter(0));U.append("g").call(h)}const J=void 0===this.forcedValueMin?this.dataValueMin:this.forcedValueMin,Z=void 0===this.forcedValueMax?this.dataValueMax:this.forcedValueMax,I=t.scaleLinear().domain([J,Z]).range([R-z,B]);if(n&&!w){I.nice();const h=_=>_.attr("transform",`translate(${v},0)`).call(t.axisLeft(I).ticks(R/30).tickSizeOuter(0));U.append("g").call(h)}if(M){I.nice();const h=_=>_.attr("transform",`translate(${A-S},0)`).call(t.axisRight(I).ticks(R/30).tickSizeOuter(0));U.append("g").call(h)}if(w){I.nice();const h=_=>_.attr("transform",`translate(${v},0)`).call(t.axisLeft(I).ticks(R/30).tickSizeOuter(0)).call(E=>{n||E.select(".domain").remove()}).call(E=>E.selectAll(f?".tick:not(:first-of-type) line":".tick line").clone().attr("x2",A-v-S).attr("stroke","currentColor").attr("stroke-width",.3));U.append("g").call(h)}const Y=g.length;for(let h=0;h<a.length;++h){const _=a[h],E=(0,p.j)(_),V=h<Y?g[h]:C,j=V.interpolation?V.interpolation:"natural";if(V.fillColor&&"none"!==V.fillColor){const L=t.area().curve((0,x.G)(j)).defined(H=>!isNaN(E(H))&&H.time>=G&&H.time<=X).x(H=>b(H.time)).y0(()=>I(J)).y1(H=>I(E(H)));U.append("path").datum(_).attr("fill",V.fillColor).attr("d",L)}if(V.strokeColor&&V.strokeWidth&&V.strokeWidth>0&&"none"!==V.strokeColor){const L=t.line().curve((0,x.G)(j)).defined(H=>!isNaN(E(H))&&H.time>=G&&H.time<=X).x(H=>b(H.time)).y(H=>I(E(H)));U.append("path").datum(_).attr("stroke-width",V.strokeWidth).attr("stroke",V.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",L)}}}}return T.\u0275fac=function(e){return new(e||T)(o.Y36(o.SBq))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mb-multiline"]],hostBindings:function(e,a){1&e&&o.NdJ("resize",function(){return a.render()},!1,o.Jf7)},inputs:{width:"width",height:"height",configuration:"configuration",timeAxis:"timeAxis",valueAxis:"valueAxis",min:"min",max:"max",from:"from",till:"till",data:"data"},features:[o.TTD],ngContentSelectors:y,decls:1,vars:0,template:function(e,a){1&e&&(o.F$t(),o.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),T})()},9441:($,W,s)=>{s.d(W,{l:()=>O});var t=s(842),D=s(8316),x=s(2729),p=s(5e3);const o=["*"];let O=(()=>{class k{constructor(r){this.elementRef=r,this.width=160,this.height=24,this.currentConfiguration={fillColor:"steelblue",strokeColor:void 0,strokeWidth:1,interpolation:"linear"}}set configuration(r){r&&null!=r&&(this.currentConfiguration=Object.assign(Object.assign({},this.currentConfiguration),r))}get configuration(){return this.currentConfiguration}set data(r){this.currentData=r}get data(){return this.currentData}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(r){this.render()}render(){const r=t.select(this.elementRef.nativeElement);r.select("svg").remove();const m=this.currentData;if(!m||m.length<1)return;const u=this.currentConfiguration,P=(0,D.C)(this.elementRef,this.width,this.height,160,24),l=P[0],c=P[1],K=r.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",l).attr("height",c).attr("viewBox",`0 0 ${l} ${c}`),T=t.scaleTime().range([0,l]).domain([m[0].time,m[m.length-1].time]);let N,e;void 0!==m[0].close?(N=t.extent(m,i=>i.close),e=i=>i.close):void 0!==m[0].price?(N=t.extent(m,i=>i.price),e=i=>i.price):void 0!==m[0].bidPrice?(N=t.extent(m,i=>i.bidPrice),e=i=>i.bidPrice):(N=t.extent(m,i=>i.value),e=i=>i.value);const a=u.interpolation?u.interpolation:"linear;",g=t.scaleLinear().domain(N).range([c,0]);if(K.datum(m),u.fillColor&&"none"!==u.fillColor){const i=N[0],f=t.area().curve((0,x.G)(a)).defined(n=>!isNaN(e(n))).x((n,M)=>T(n.time)).y0(n=>g(i)).y1(n=>g(e(n)));K.append("path").attr("fill",u.fillColor).attr("d",f)}if(u.strokeColor&&u.strokeWidth&&u.strokeWidth>0&&"none"!==u.strokeColor){const i=t.line().curve((0,x.G)(a)).defined(f=>!isNaN(e(f))).x((f,n)=>T(f.time)).y(f=>g(e(f)));K.append("path").attr("stroke-width",u.strokeWidth).attr("stroke",u.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",i)}}}return k.\u0275fac=function(r){return new(r||k)(p.Y36(p.SBq))},k.\u0275cmp=p.Xpm({type:k,selectors:[["mb-sparkline"]],hostBindings:function(r,m){1&r&&p.NdJ("resize",function(){return m.render()},!1,p.Jf7)},inputs:{width:"width",height:"height",configuration:"configuration",data:"data"},features:[p.TTD],ngContentSelectors:o,decls:1,vars:0,template:function(r,m){1&r&&(p.F$t(),p.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),k})()},1326:($,W,s)=>{s.d(W,{j:()=>K});var t=s(842),D=s(8316),x=s(2729),p=s(2963),o=s(5e3);const y=["*"],C={fillColor:void 0,strokeColor:"steelblue",strokeWidth:1,interpolation:"natural"},k=new Date(-864e13),d=new Date(864e13);let K=(()=>{class T{constructor(e){this.elementRef=e,this.width=300,this.height=100,this.timeAxis=[],this.valueAxis=[],this.currentConfiguration=[],this.currentDataStacked=[],this.currentDataEmpty=!0}set configuration(e){if(e&&null!=e&&e.length>0){const a=e.length,g=this.currentConfiguration.length;if(g>0){const i=Math.min(a,g);Math.max(a,g);for(let n=0;n<i;++n)this.currentConfiguration[n]=Object.assign(Object.assign({},this.currentConfiguration[n]),e[n]);if(a>i)for(let n=i;n<a;++n)this.currentConfiguration[n]=Object.assign({},e[n])}else this.currentConfiguration=[...e]}}get configuration(){return this.currentConfiguration}set min(e){this.forcedValueMin=e}set max(e){this.forcedValueMax=e}set from(e){this.forcedTimeMin=e}set till(e){this.forcedTimeMax=e}set data(e){let a=d,g=k,i=-1/0,f=!0;const n=[];let M=0;for(const v of e){n.push([]);const S=v.length;S<1||(f=!1,M<S&&(M=S),a>v[0].time&&(a=v[0].time),g<v[S-1].time&&(g=v[S-1].time))}const w=e.length;for(let v=0;v<M;++v){let S=0;for(let B=0;B<w;++B){const z=n[B],F=e[B];if(F.length>v){let A=(0,p.j)(F)(F[v]);isNaN(A)||(A+=S,z.push({time:F[v].time,lower:S,upper:A}),S=A,i<A&&(i=A))}}}this.currentDataEmpty=f,this.dataTimeMin=a,this.dataTimeMax=g,this.dataValueMax=i,this.currentDataStacked=n}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(e){this.render()}render(){const e=t.select(this.elementRef.nativeElement);e.select("svg").remove();const a=this.currentDataStacked;if(this.currentDataEmpty||!a||a.length<1)return;const g=this.currentConfiguration,i=this.timeAxis.includes("top"),f=this.timeAxis.includes("bottom"),n=this.valueAxis.includes("left"),M=this.valueAxis.includes("right"),w=this.valueAxis.includes("grid"),v=n||w?50:i||f?50/3:0,S=M?50:i||f?50/3:0,B=i?18:n||M||w?6:0,z=f?18:n||M||w?6:0,F=(0,D.C)(this.elementRef,this.width,this.height,300,100),A=F[0],R=F[1],U=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",A).attr("height",R).attr("viewBox",`0 0 ${A} ${R}`),G=void 0===this.forcedTimeMin?this.dataTimeMin:this.forcedTimeMin,X=void 0===this.forcedTimeMax?this.dataTimeMax:this.forcedTimeMax,b=t.scaleUtc().range([v,A-S]).domain([G,X]);if(i){b.nice();const h=_=>_.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${B})`).call(t.axisTop(b).ticks(A/60).tickSizeOuter(0));U.append("g").call(h)}if(f){b.nice();const h=_=>_.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${R-z})`).call(t.axisBottom(b).ticks(A/60).tickSizeOuter(0));U.append("g").call(h)}const J=void 0===this.forcedValueMin?0:this.forcedValueMin,Z=void 0===this.forcedValueMax?this.dataValueMax:this.forcedValueMax,I=t.scaleLinear().domain([J,Z]).range([R-z,B]);if(n&&!w){I.nice();const h=_=>_.attr("transform",`translate(${v},0)`).call(t.axisLeft(I).ticks(R/30).tickSizeOuter(0));U.append("g").call(h)}if(M){I.nice();const h=_=>_.attr("transform",`translate(${A-S},0)`).call(t.axisRight(I).ticks(R/30).tickSizeOuter(0));U.append("g").call(h)}if(w){I.nice();const h=_=>_.attr("transform",`translate(${v},0)`).call(t.axisLeft(I).ticks(R/30).tickSizeOuter(0)).call(E=>{n||E.select(".domain").remove()}).call(E=>E.selectAll(f?".tick:not(:first-of-type) line":".tick line").clone().attr("x2",A-v-S).attr("stroke","currentColor").attr("stroke-width",.3));U.append("g").call(h)}const Y=g.length;for(let h=0;h<a.length;++h){const _=a[h],E=h<Y?g[h]:C,V=E.interpolation?E.interpolation:"natural";if(E.fillColor&&"none"!==E.fillColor){const j=t.area().curve((0,x.G)(V)).defined(L=>L.time>=G&&L.time<=X).x(L=>b(L.time)).y0(L=>I(L.lower)).y1(L=>I(L.upper));U.append("path").datum(_).attr("fill",E.fillColor).attr("d",j)}if(E.strokeColor&&E.strokeWidth&&E.strokeWidth>0&&"none"!==E.strokeColor){const j=t.line().curve((0,x.G)(V)).defined(L=>L.time>=G&&L.time<=X).x(L=>b(L.time)).y(L=>I(L.upper));U.append("path").datum(_).attr("stroke-width",E.strokeWidth).attr("stroke",E.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",j)}}}}return T.\u0275fac=function(e){return new(e||T)(o.Y36(o.SBq))},T.\u0275cmp=o.Xpm({type:T,selectors:[["mb-stackiline"]],hostBindings:function(e,a){1&e&&o.NdJ("resize",function(){return a.render()},!1,o.Jf7)},inputs:{width:"width",height:"height",timeAxis:"timeAxis",valueAxis:"valueAxis",configuration:"configuration",min:"min",max:"max",from:"from",till:"till",data:"data"},features:[o.TTD],ngContentSelectors:y,decls:1,vars:0,template:function(e,a){1&e&&(o.F$t(),o.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),T})()},6476:($,W,s)=>{s.d(W,{T:()=>m});var t=s(5e3),D=s(7322),x=s(4107),p=s(9005),o=s(9808),y=s(508);function C(u,P){if(1&u&&(t.TgZ(0,"mat-option",4),t._UZ(1,"mb-swatches",2),t.qZA()),2&u){const l=P.$implicit,c=t.oxw();t.Q6J("value",l),t.xp6(1),t.Q6J("width",96)("height",c.optionHeightPixels)("colors",l)}}let m=(()=>{class u{constructor(){this.label="Select colors",this.selectionChange=new t.vpe,this.optionHeightPixels=32,this.triggerHeightPixels=24,this.optionWidthPixels=96,this.triggerWidthPixels=72,this.selectWidthPixels=20+this.triggerWidthPixels,this.palettes=[],this.selectedPalette=[]}set colors(l){if(l&&l.length>0){this.palettes=l,this.selectedPalette=this.palettes[0];let c=0;for(const K in this.palettes)c<K.length&&(c=K.length);this.optionWidthPixels=c*this.optionHeightPixels,this.triggerWidthPixels=c*this.triggerHeightPixels,this.selectWidthPixels=20+this.triggerWidthPixels}}selectionChanged(l){this.selectionChange.emit(l.value)}computeWidthStyle(){return{width:`${this.selectWidthPixels}px`}}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["mb-swatches-select"]],inputs:{colors:"colors",label:"label"},outputs:{selectionChange:"selectionChange"},decls:7,vars:6,consts:[[2,"width","92px"],[3,"value","valueChange","selectionChange"],[3,"width","height","colors"],["style","padding: 18px 0px 0px 30px",3,"value",4,"ngFor","ngForOf"],[2,"padding","18px 0px 0px 30px",3,"value"]],template:function(l,c){1&l&&(t.TgZ(0,"mat-form-field",0),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",1),t.NdJ("valueChange",function(T){return c.selectedPalette=T})("selectionChange",function(T){return c.selectionChanged(T)}),t.TgZ(4,"mat-select-trigger"),t._UZ(5,"mb-swatches",2),t.qZA(),t.YNc(6,C,2,4,"mat-option",3),t.qZA(),t.qZA()),2&l&&(t.xp6(2),t.Oqu(c.label),t.xp6(1),t.Q6J("value",c.selectedPalette),t.xp6(2),t.Q6J("width",72)("height",c.triggerHeightPixels)("colors",c.selectedPalette),t.xp6(1),t.Q6J("ngForOf",c.palettes))},directives:[D.KE,D.hX,x.gD,x.$L,p.p,o.sg,y.ey],styles:[""],encapsulation:2}),u})()},9005:($,W,s)=>{s.d(W,{p:()=>C});var t=s(842),D=s(8316),x=s(5e3);const p=["*"];let C=(()=>{class O{constructor(d){this.elementRef=d,this.currentColors=[],this.width=64,this.height=24}set colors(d){d&&null!=d&&d.length>0&&(this.currentColors=d)}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(d){this.render()}render(){const d=t.select(this.elementRef.nativeElement);d.select("svg").remove();const r=this.currentColors,m=r.length;if(m<1)return;const u=(0,D.C)(this.elementRef,this.width,this.height,64,24),P=u[0],l=u[1],c=P/m,K=d.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",P).attr("height",l).attr("viewBox",`0 0 ${P} ${l}`);for(let T=0;T<m;++T)K.append("rect").attr("x",c*T).attr("y","0").attr("width",c).attr("height",l).attr("fill",r[T])}}return O.\u0275fac=function(d){return new(d||O)(x.Y36(x.SBq))},O.\u0275cmp=x.Xpm({type:O,selectors:[["mb-swatches"]],hostBindings:function(d,r){1&d&&x.NdJ("resize",function(){return r.render()},!1,x.Jf7)},inputs:{width:"width",height:"height",colors:"colors"},features:[x.TTD],ngContentSelectors:p,decls:1,vars:0,template:function(d,r){1&d&&(x.F$t(),x.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),O})()}}]);