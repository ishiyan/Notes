(self.webpackChunkmbs_api_host_ng=self.webpackChunkmbs_api_host_ng||[]).push([[101],{13794:function(t,e,i){"use strict";i.d(e,{i:function(){return a}});var n=i(35366),r=i(11295);let s=(()=>{class t{constructor(t,e){this.element=t,this.katexService=e,this.hasError=new n.vpe}ngOnChanges(){try{this.katexService.render(this.mbKatex,this.element,this.options)}catch(t){this.hasError.emit(t)}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(r.$))},t.\u0275dir=n.lG2({type:t,selectors:[["","mbKatex",""]],inputs:{mbKatex:"mbKatex",options:"options"},outputs:{hasError:"hasError"},features:[n.TTD]}),t})(),a=(()=>{class t{constructor(){this.hasError=new n.vpe}outputError(t){this.hasError.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mb-katex"]],inputs:{expression:"expression",options:"options"},outputs:{hasError:"hasError"},decls:1,vars:2,consts:[[3,"mbKatex","options","hasError"]],template:function(t,e){1&t&&(n.TgZ(0,"span",0),n.NdJ("hasError",function(t){return e.outputError(t)}),n.qZA()),2&t&&n.Q6J("mbKatex",e.expression)("options",e.options)},directives:[s],styles:[""]}),t})()},62693:function(t,e,i){"use strict";i.d(e,{G:function(){return r}});var n=i(60553);function r(t){switch(t.toLowerCase()){case"step":return n.curveStep;case"stepbefore":return n.curveStepBefore;case"stepafter":return n.curveStepAfter;case"natural":return n.curveNatural;case"basis":return n.curveBasis;case"catmullrom":return n.curveCatmullRom;case"cardinal":return n.curveCardinal;case"monotonex":return n.curveMonotoneX;case"monotoney":return n.curveMonotoneY;default:return n.curveLinear}}},56505:function(t,e,i){"use strict";function n(t){if(t.length>0){if(void 0!==t[0].close)return t=>t.close;if(void 0!==t[0].price)return t=>t.price;if(void 0!==t[0].bidPrice)return t=>t.bidPrice}return t=>t.value}i.d(e,{j:function(){return n}})},18955:function(t,e,i){"use strict";i.d(e,{I:function(){return f}});var n=i(60553),r=i(47502),s=i(62693),a=i(56505),o=i(35366);const l=["*"],c={fillColor:void 0,strokeColor:"steelblue",strokeWidth:1,interpolation:"natural"},h=new Date(-864e13),u=new Date(864e13);let f=(()=>{class t{constructor(t){this.elementRef=t,this.currentConfiguration=[],this.currentData=[],this.currentDataEmpty=!0,this.width=300,this.height=100,this.timeAxis=[],this.valueAxis=[]}set configuration(t){if(t&&null!=t&&t.length>0){const e=t.length,i=this.currentConfiguration.length;if(i>0){const n=Math.min(e,i);Math.max(e,i);for(let e=0;e<n;++e)this.currentConfiguration[e]=Object.assign(Object.assign({},this.currentConfiguration[e]),t[e]);if(e>n)for(let i=n;i<e;++i)this.currentConfiguration[i]=Object.assign({},t[i])}else this.currentConfiguration=[...t]}}get configuration(){return this.currentConfiguration}set min(t){this.forcedValueMin=t}set max(t){this.forcedValueMax=t}set from(t){this.forcedTimeMin=t}set till(t){this.forcedTimeMax=t}set data(t){let e=u,i=h,n=1/0,r=-1/0,s=!0;for(const o of t){const t=o.length;if(t<1)continue;s=!1,e>o[0].time&&(e=o[0].time),i<o[t-1].time&&(i=o[t-1].time);const l=(0,a.j)(o);for(const e of o){const t=l(e);isNaN(t)||(n>t&&(n=t),r<t&&(r=t))}}this.currentDataEmpty=s,this.dataTimeMin=e,this.dataTimeMax=i,this.dataValueMin=n,this.dataValueMax=r,this.currentData=t}get data(){return this.currentData}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(t){this.render()}render(){const t=n.select(this.elementRef.nativeElement);t.select("svg").remove();const e=this.currentData;if(this.currentDataEmpty||!e||e.length<1)return;const i=this.currentConfiguration,o=this.timeAxis.includes("top"),l=this.timeAxis.includes("bottom"),h=this.valueAxis.includes("left"),u=this.valueAxis.includes("right"),f=this.valueAxis.includes("grid"),d=h||f?50:o||l?50/3:0,m=u?50:o||l?50/3:0,g=o?18:h||u||f?6:0,p=l?18:h||u||f?6:0,x=(0,r.C)(this.elementRef,this.width,this.height,300,100),v=x[0],C=x[1],k=t.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",v).attr("height",C).attr("viewBox",`0 0 ${v} ${C}`),w=void 0===this.forcedTimeMin?this.dataTimeMin:this.forcedTimeMin,M=void 0===this.forcedTimeMax?this.dataTimeMax:this.forcedTimeMax,T=n.scaleUtc().range([d,v-m]).domain([w,M]);if(o){T.nice();const t=t=>t.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${g})`).call(n.axisTop(T).ticks(v/60).tickSizeOuter(0));k.append("g").call(t)}if(l){T.nice();const t=t=>t.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${C-p})`).call(n.axisBottom(T).ticks(v/60).tickSizeOuter(0));k.append("g").call(t)}const b=void 0===this.forcedValueMin?this.dataValueMin:this.forcedValueMin,y=void 0===this.forcedValueMax?this.dataValueMax:this.forcedValueMax,A=n.scaleLinear().domain([b,y]).range([C-p,g]);if(h&&!f){A.nice();const t=t=>t.attr("transform",`translate(${d},0)`).call(n.axisLeft(A).ticks(C/30).tickSizeOuter(0));k.append("g").call(t)}if(u){A.nice();const t=t=>t.attr("transform",`translate(${v-m},0)`).call(n.axisRight(A).ticks(C/30).tickSizeOuter(0));k.append("g").call(t)}if(f){A.nice();const t=t=>t.attr("transform",`translate(${d},0)`).call(n.axisLeft(A).ticks(C/30).tickSizeOuter(0)).call(t=>{h||t.select(".domain").remove()}).call(t=>t.selectAll(l?".tick:not(:first-of-type) line":".tick line").clone().attr("x2",v-d-m).attr("stroke","currentColor").attr("stroke-width",.3));k.append("g").call(t)}const D=i.length;for(let r=0;r<e.length;++r){const t=e[r],o=(0,a.j)(t),l=r<D?i[r]:c,h=l.interpolation?l.interpolation:"natural";if(l.fillColor&&"none"!==l.fillColor){const e=n.area().curve((0,s.G)(h)).defined(t=>!isNaN(o(t))&&t.time>=w&&t.time<=M).x(t=>T(t.time)).y0(()=>A(b)).y1(t=>A(o(t)));k.append("path").datum(t).attr("fill",l.fillColor).attr("d",e)}if(l.strokeColor&&l.strokeWidth&&l.strokeWidth>0&&"none"!==l.strokeColor){const e=n.line().curve((0,s.G)(h)).defined(t=>!isNaN(o(t))&&t.time>=w&&t.time<=M).x(t=>T(t.time)).y(t=>A(o(t)));k.append("path").datum(t).attr("stroke-width",l.strokeWidth).attr("stroke",l.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",e)}}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mb-multiline"]],hostBindings:function(t,e){1&t&&o.NdJ("resize",function(){return e.render()},!1,o.Jf7)},inputs:{width:"width",height:"height",configuration:"configuration",timeAxis:"timeAxis",valueAxis:"valueAxis",min:"min",max:"max",from:"from",till:"till",data:"data"},features:[o.TTD],ngContentSelectors:l,decls:1,vars:0,template:function(t,e){1&t&&(o.F$t(),o.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),t})()},70829:function(t,e,i){"use strict";i.d(e,{l:function(){return l}});var n=i(60553),r=i(47502),s=i(62693),a=i(35366);const o=["*"];let l=(()=>{class t{constructor(t){this.elementRef=t,this.currentConfiguration={fillColor:"steelblue",strokeColor:void 0,strokeWidth:1,interpolation:"linear"},this.width=160,this.height=24}set configuration(t){t&&null!=t&&(this.currentConfiguration=Object.assign(Object.assign({},this.currentConfiguration),t))}get configuration(){return this.currentConfiguration}set data(t){this.currentData=t}get data(){return this.currentData}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(t){this.render()}render(){const t=n.select(this.elementRef.nativeElement);t.select("svg").remove();const e=this.currentData;if(!e||e.length<1)return;const i=this.currentConfiguration,a=(0,r.C)(this.elementRef,this.width,this.height,160,24),o=a[0],l=a[1],c=t.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",o).attr("height",l).attr("viewBox",`0 0 ${o} ${l}`),h=n.scaleTime().range([0,o]).domain([e[0].time,e[e.length-1].time]);let u,f;void 0!==e[0].close?(u=n.extent(e,t=>t.close),f=t=>t.close):void 0!==e[0].price?(u=n.extent(e,t=>t.price),f=t=>t.price):void 0!==e[0].bidPrice?(u=n.extent(e,t=>t.bidPrice),f=t=>t.bidPrice):(u=n.extent(e,t=>t.value),f=t=>t.value);const d=i.interpolation?i.interpolation:"linear;",m=n.scaleLinear().domain(u).range([l,0]);if(c.datum(e),i.fillColor&&"none"!==i.fillColor){const t=u[0],e=n.area().curve((0,s.G)(d)).defined(t=>!isNaN(f(t))).x((t,e)=>h(t.time)).y0(e=>m(t)).y1(t=>m(f(t)));c.append("path").attr("fill",i.fillColor).attr("d",e)}if(i.strokeColor&&i.strokeWidth&&i.strokeWidth>0&&"none"!==i.strokeColor){const t=n.line().curve((0,s.G)(d)).defined(t=>!isNaN(f(t))).x((t,e)=>h(t.time)).y(t=>m(f(t)));c.append("path").attr("stroke-width",i.strokeWidth).attr("stroke",i.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",t)}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mb-sparkline"]],hostBindings:function(t,e){1&t&&a.NdJ("resize",function(){return e.render()},!1,a.Jf7)},inputs:{width:"width",height:"height",configuration:"configuration",data:"data"},features:[a.TTD],ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(a.F$t(),a.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),t})()},29933:function(t,e,i){"use strict";i.d(e,{j:function(){return f}});var n=i(60553),r=i(47502),s=i(62693),a=i(56505),o=i(35366);const l=["*"],c={fillColor:void 0,strokeColor:"steelblue",strokeWidth:1,interpolation:"natural"},h=new Date(-864e13),u=new Date(864e13);let f=(()=>{class t{constructor(t){this.elementRef=t,this.currentConfiguration=[],this.currentDataStacked=[],this.currentDataEmpty=!0,this.width=300,this.height=100,this.timeAxis=[],this.valueAxis=[]}set configuration(t){if(t&&null!=t&&t.length>0){const e=t.length,i=this.currentConfiguration.length;if(i>0){const n=Math.min(e,i);Math.max(e,i);for(let e=0;e<n;++e)this.currentConfiguration[e]=Object.assign(Object.assign({},this.currentConfiguration[e]),t[e]);if(e>n)for(let i=n;i<e;++i)this.currentConfiguration[i]=Object.assign({},t[i])}else this.currentConfiguration=[...t]}}get configuration(){return this.currentConfiguration}set min(t){this.forcedValueMin=t}set max(t){this.forcedValueMax=t}set from(t){this.forcedTimeMin=t}set till(t){this.forcedTimeMax=t}set data(t){let e=u,i=h,n=-1/0,r=!0;const s=[];let o=0;for(const a of t){s.push([]);const t=a.length;t<1||(r=!1,o<t&&(o=t),e>a[0].time&&(e=a[0].time),i<a[t-1].time&&(i=a[t-1].time))}const l=t.length;for(let c=0;c<o;++c){let e=0;for(let i=0;i<l;++i){const r=s[i],o=t[i];if(o.length>c){let t=(0,a.j)(o)(o[c]);isNaN(t)||(t+=e,r.push({time:o[c].time,lower:e,upper:t}),e=t,n<t&&(n=t))}}}this.currentDataEmpty=r,this.dataTimeMin=e,this.dataTimeMax=i,this.dataValueMax=n,this.currentDataStacked=s}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(t){this.render()}render(){const t=n.select(this.elementRef.nativeElement);t.select("svg").remove();const e=this.currentDataStacked;if(this.currentDataEmpty||!e||e.length<1)return;const i=this.currentConfiguration,a=this.timeAxis.includes("top"),o=this.timeAxis.includes("bottom"),l=this.valueAxis.includes("left"),h=this.valueAxis.includes("right"),u=this.valueAxis.includes("grid"),f=l||u?50:a||o?50/3:0,d=h?50:a||o?50/3:0,m=a?18:l||h||u?6:0,g=o?18:l||h||u?6:0,p=(0,r.C)(this.elementRef,this.width,this.height,300,100),x=p[0],v=p[1],C=t.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",x).attr("height",v).attr("viewBox",`0 0 ${x} ${v}`),k=void 0===this.forcedTimeMin?this.dataTimeMin:this.forcedTimeMin,w=void 0===this.forcedTimeMax?this.dataTimeMax:this.forcedTimeMax,M=n.scaleUtc().range([f,x-d]).domain([k,w]);if(a){M.nice();const t=t=>t.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${m})`).call(n.axisTop(M).ticks(x/60).tickSizeOuter(0));C.append("g").call(t)}if(o){M.nice();const t=t=>t.attr("font-family","sans-serif").attr("font-size",10).attr("fill","none").attr("transform",`translate(0,${v-g})`).call(n.axisBottom(M).ticks(x/60).tickSizeOuter(0));C.append("g").call(t)}const T=void 0===this.forcedValueMin?0:this.forcedValueMin,b=void 0===this.forcedValueMax?this.dataValueMax:this.forcedValueMax,y=n.scaleLinear().domain([T,b]).range([v-g,m]);if(l&&!u){y.nice();const t=t=>t.attr("transform",`translate(${f},0)`).call(n.axisLeft(y).ticks(v/30).tickSizeOuter(0));C.append("g").call(t)}if(h){y.nice();const t=t=>t.attr("transform",`translate(${x-d},0)`).call(n.axisRight(y).ticks(v/30).tickSizeOuter(0));C.append("g").call(t)}if(u){y.nice();const t=t=>t.attr("transform",`translate(${f},0)`).call(n.axisLeft(y).ticks(v/30).tickSizeOuter(0)).call(t=>{l||t.select(".domain").remove()}).call(t=>t.selectAll(o?".tick:not(:first-of-type) line":".tick line").clone().attr("x2",x-f-d).attr("stroke","currentColor").attr("stroke-width",.3));C.append("g").call(t)}const A=i.length;for(let r=0;r<e.length;++r){const t=e[r],a=r<A?i[r]:c,o=a.interpolation?a.interpolation:"natural";if(a.fillColor&&"none"!==a.fillColor){const e=n.area().curve((0,s.G)(o)).defined(t=>t.time>=k&&t.time<=w).x(t=>M(t.time)).y0(t=>y(t.lower)).y1(t=>y(t.upper));C.append("path").datum(t).attr("fill",a.fillColor).attr("d",e)}if(a.strokeColor&&a.strokeWidth&&a.strokeWidth>0&&"none"!==a.strokeColor){const e=n.line().curve((0,s.G)(o)).defined(t=>t.time>=k&&t.time<=w).x(t=>M(t.time)).y(t=>y(t.upper));C.append("path").datum(t).attr("stroke-width",a.strokeWidth).attr("stroke",a.strokeColor).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none").attr("d",e)}}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mb-stackiline"]],hostBindings:function(t,e){1&t&&o.NdJ("resize",function(){return e.render()},!1,o.Jf7)},inputs:{width:"width",height:"height",configuration:"configuration",timeAxis:"timeAxis",valueAxis:"valueAxis",min:"min",max:"max",from:"from",till:"till",data:"data"},features:[o.TTD],ngContentSelectors:l,decls:1,vars:0,template:function(t,e){1&t&&(o.F$t(),o.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),t})()},66068:function(t,e,i){"use strict";i.d(e,{T:function(){return h}});var n=i(35366),r=i(13070),s=i(13841),a=i(92321),o=i(61116),l=i(87064);function c(t,e){if(1&t&&(n.TgZ(0,"mat-option",4),n._UZ(1,"mb-swatches",2),n.qZA()),2&t){const t=e.$implicit,i=n.oxw();n.Q6J("value",t),n.xp6(1),n.Q6J("width",96)("height",i.optionHeightPixels)("colors",t)}}let h=(()=>{class t{constructor(){this.label="Select colors",this.selectionChange=new n.vpe,this.optionHeightPixels=32,this.triggerHeightPixels=24,this.optionWidthPixels=96,this.triggerWidthPixels=72,this.selectWidthPixels=20+this.triggerWidthPixels,this.palettes=[],this.selectedPalette=[]}set colors(t){if(t&&t.length>0){this.palettes=t,this.selectedPalette=this.palettes[0];let e=0;for(const t in this.palettes)e<t.length&&(e=t.length);this.optionWidthPixels=e*this.optionHeightPixels,this.triggerWidthPixels=e*this.triggerHeightPixels,this.selectWidthPixels=20+this.triggerWidthPixels}}selectionChanged(t){this.selectionChange.emit(t.value)}computeWidthStyle(){return{width:`${this.selectWidthPixels}px`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mb-swatches-select"]],inputs:{colors:"colors",label:"label"},outputs:{selectionChange:"selectionChange"},decls:7,vars:6,consts:[[2,"width","92px"],[3,"value","valueChange","selectionChange"],[3,"width","height","colors"],["style","padding: 18px 0px 0px 30px",3,"value",4,"ngFor","ngForOf"],[2,"padding","18px 0px 0px 30px",3,"value"]],template:function(t,e){1&t&&(n.TgZ(0,"mat-form-field",0),n.TgZ(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",1),n.NdJ("valueChange",function(t){return e.selectedPalette=t})("selectionChange",function(t){return e.selectionChanged(t)}),n.TgZ(4,"mat-select-trigger"),n._UZ(5,"mb-swatches",2),n.qZA(),n.YNc(6,c,2,4,"mat-option",3),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Oqu(e.label),n.xp6(1),n.Q6J("value",e.selectedPalette),n.xp6(2),n.Q6J("width",72)("height",e.triggerHeightPixels)("colors",e.selectedPalette),n.xp6(1),n.Q6J("ngForOf",e.palettes))},directives:[r.KE,r.hX,s.gD,s.$L,a.p,o.sg,l.ey],styles:[""],encapsulation:2}),t})()},92321:function(t,e,i){"use strict";i.d(e,{p:function(){return o}});var n=i(60553),r=i(47502),s=i(35366);const a=["*"];let o=(()=>{class t{constructor(t){this.elementRef=t,this.currentColors=[],this.width=64,this.height=24}set colors(t){t&&null!=t&&t.length>0&&(this.currentColors=t)}ngAfterViewInit(){setTimeout(()=>this.render(),0)}ngOnChanges(t){this.render()}render(){const t=n.select(this.elementRef.nativeElement);t.select("svg").remove();const e=this.currentColors,i=e.length;if(i<1)return;const s=(0,r.C)(this.elementRef,this.width,this.height,64,24),a=s[0],o=s[1],l=a/i,c=t.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",a).attr("height",o).attr("viewBox",`0 0 ${a} ${o}`);for(let n=0;n<i;++n)c.append("rect").attr("x",l*n).attr("y","0").attr("width",l).attr("height",o).attr("fill",e[n])}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mb-swatches"]],hostBindings:function(t,e){1&t&&s.NdJ("resize",function(){return e.render()},!1,s.Jf7)},inputs:{width:"width",height:"height",colors:"colors"},features:[s.TTD],ngContentSelectors:a,decls:1,vars:0,template:function(t,e){1&t&&(s.F$t(),s.Hsn(0))},styles:[""],encapsulation:2,changeDetection:0}),t})()}}]);